[gd_scene load_steps=7 format=3 uid="uid://cicqw2vl52xk8"]

[ext_resource type="Script" uid="uid://73pfg55eifov" path="res://Game/Players/Main/MainCharacter.cs" id="1_6jd5j"]
[ext_resource type="PackedScene" uid="uid://bxutcq26iq1ty" path="res://Game/Players/Main/Rig.tscn" id="2_i82dk"]
[ext_resource type="Script" uid="uid://h5sa2msj6uxk" path="res://Game/Players/Main/SmoothCameraArm.cs" id="2_vjj1u"]
[ext_resource type="Script" uid="uid://bf28xdgtg6il4" path="res://Game/Players/Main/AttackCast.cs" id="4_2ms4b"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_hlfas"]

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_71ybq"]

[node name="MainCharacter" type="CharacterBody3D"]
script = ExtResource("1_6jd5j")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(0.7, 0, 0, 0, 0.9, 0, 0, 0, 0.5, 0, -0.0848615, 0)
shape = SubResource("CapsuleShape3D_hlfas")
debug_color = Color(1, 1, 1, 0.42)

[node name="SmoothCameraArm" type="SpringArm3D" parent="." node_paths=PackedStringArray("Target")]
transform = Transform3D(1, 0, 0, 0, 0.906308, 0.422618, 0, -0.422618, 0.906308, 0, 0, 0)
shape = SubResource("SeparationRayShape3D_71ybq")
spring_length = 4.0
script = ExtResource("2_vjj1u")
Target = NodePath("../HorizontalPivot/VerticalPivot")

[node name="C3DMain" type="Camera3D" parent="SmoothCameraArm"]

[node name="HorizontalPivot" type="Node3D" parent="."]

[node name="VerticalPivot" type="Node3D" parent="HorizontalPivot"]

[node name="HeadPosition" type="Node3D" parent="HorizontalPivot"]

[node name="RigPivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="Rig" parent="RigPivot" instance=ExtResource("2_i82dk")]

[node name="Skeleton3D" parent="RigPivot/Rig/CharacterRig/GameRig" index="0"]
bones/0/position = Vector3(1.4199e-14, 0.904116, -0.0481735)
bones/0/rotation = Quaternion(0.12582, 1.18262e-07, 1.49989e-08, 0.992053)
bones/1/rotation = Quaternion(-0.0566577, -0.00072973, -0.0117082, 0.998325)
bones/2/position = Vector3(3.20474e-09, 0.146689, -1.95578e-08)
bones/2/rotation = Quaternion(0.00269947, -0.000342481, 0.00321298, 0.999991)
bones/3/rotation = Quaternion(-0.0923611, -0.00032637, 0.00852268, 0.995689)
bones/4/position = Vector3(3.02934e-10, 0.0925562, 3.91155e-08)
bones/4/rotation = Quaternion(0.273343, 1.54708e-08, 8.93644e-08, 0.961917)
bones/5/rotation = Quaternion(-0.0948564, -2.80691e-14, -2.26155e-08, 0.995491)
bones/6/rotation = Quaternion(-0.160836, -1.1733e-07, -2.11761e-08, 0.986981)
bones/7/position = Vector3(-5.58741e-08, 0.904116, -0.0481735)
bones/7/rotation = Quaternion(-0.0863677, -0.751104, -0.383052, 0.530711)
bones/8/position = Vector3(-5.78335e-08, 0.904116, -0.0481735)
bones/8/rotation = Quaternion(-0.0863677, 0.751104, 0.383052, 0.530711)
bones/9/position = Vector3(0.131144, 0.97032, -0.0351291)
bones/9/rotation = Quaternion(0.993663, 0.0205511, -0.0311018, 0.10604)
bones/10/position = Vector3(-2.36129e-08, 0.26601, -2.14789e-08)
bones/10/rotation = Quaternion(-3.13921e-08, -0.000695086, 1.20449e-08, 1)
bones/11/position = Vector3(-4.6306e-08, 0.26601, 2.42145e-08)
bones/11/rotation = Quaternion(0.407684, -0.000698532, 0.000312011, 0.913123)
bones/12/position = Vector3(3.05151e-08, 0.22603, 5.03768e-08)
bones/12/rotation = Quaternion(-8.19226e-09, -0.00710644, 4.16102e-08, 0.999975)
bones/13/position = Vector3(-2.95495e-08, 0.22603, 2.68392e-09)
bones/13/rotation = Quaternion(-0.746192, 0.0118656, 0.0243809, 0.665179)
bones/15/position = Vector3(-0.131144, 0.97032, -0.0351291)
bones/15/rotation = Quaternion(0.974539, -0.00552678, 0.0274994, 0.222458)
bones/16/position = Vector3(-1.10042e-08, 0.265705, -3.31989e-08)
bones/16/rotation = Quaternion(-3.43227e-08, 0.00314323, 8.33075e-10, 0.999995)
bones/17/position = Vector3(1.83545e-08, 0.265705, 6.98543e-10)
bones/17/rotation = Quaternion(0.432687, 0.0032232, -0.00154707, 0.901537)
bones/18/position = Vector3(1.2807e-08, 0.225719, -8.28774e-09)
bones/18/rotation = Quaternion(-2.29017e-08, -0.00785732, 3.30149e-08, 0.999969)
bones/19/position = Vector3(-1.27748e-08, 0.225719, 1.12004e-08)
bones/19/rotation = Quaternion(-0.683135, -0.0281657, -0.00109478, 0.729748)
bones/21/position = Vector3(0.0251286, 1.43398, 0.0449814)
bones/21/rotation = Quaternion(-0.480899, -0.263098, -0.40911, 0.729482)
bones/22/position = Vector3(0.190147, 1.47199, -0.0163696)
bones/22/rotation = Quaternion(0.0344718, -0.162039, 0.975107, -0.147381)
bones/23/rotation = Quaternion(9.87282e-08, -0.028482, 1.06649e-08, 0.999594)
bones/24/rotation = Quaternion(0.327563, -0.0284858, -0.020373, 0.94418)
bones/25/rotation = Quaternion(1.49943e-07, -1.20606e-07, 9.91859e-08, 1)
bones/26/rotation = Quaternion(-0.00824883, -0.00027077, -0.0328667, 0.999426)
bones/46/position = Vector3(-0.0113635, 1.43398, 0.0449814)
bones/46/rotation = Quaternion(-0.489848, 0.244067, 0.396416, 0.737112)
bones/47/position = Vector3(-0.172953, 1.47249, -0.0246297)
bones/47/rotation = Quaternion(-0.0410611, -0.142677, 0.975249, 0.163848)
bones/48/rotation = Quaternion(-1.17475e-07, 0.0367622, -2.4191e-07, 0.999324)
bones/49/rotation = Quaternion(0.3647, 0.0367627, 0.0287908, 0.929954)
bones/50/rotation = Quaternion(-8.73115e-08, 2.7474e-08, -1.28057e-07, 1)
bones/51/rotation = Quaternion(-0.00824876, 0.000270832, 0.032867, 0.999426)
bones/71/position = Vector3(0.127191, 1.35378, -0.0253413)
bones/71/rotation = Quaternion(1.98473e-08, 0.605181, 0.796088, -4.61204e-08)
bones/72/position = Vector3(-0.113426, 1.35378, -0.0253413)
bones/72/rotation = Quaternion(1.98474e-08, 0.605181, 0.796088, -4.61203e-08)

[node name="RightHandBone" parent="RigPivot/Rig" index="2"]
transform = Transform3D(-0.962344, -0.2708, -0.0237157, 0.230899, -0.860343, 0.454419, -0.14346, 0.431831, 0.890472, -0.346769, 0.998502, 0.00267534)

[node name="LeftHandBone" parent="RigPivot/Rig" index="3"]
transform = Transform3D(-0.970514, 0.239107, 0.0305209, -0.215044, -0.916055, 0.338524, 0.108902, 0.321979, 0.940462, 0.346957, -0.0164881, -0.0261552)

[node name="RayAttachment" type="BoneAttachment3D" parent="RigPivot/Rig"]
transform = Transform3D(-0.962344, -0.2708, -0.0237157, 0.230899, -0.860343, 0.454419, -0.14346, 0.431831, 0.890472, -0.346769, 0.998502, 0.00267534)
bone_name = "DEF-hand.R"
bone_idx = 51
use_external_skeleton = true
external_skeleton = NodePath("../CharacterRig/GameRig/Skeleton3D")

[node name="AttackCast" type="RayCast3D" parent="RigPivot/Rig/RayAttachment"]
transform = Transform3D(-1.68204e-08, -8.01937e-08, 2, 2.49049, 0.0915136, 2.67181e-08, -0.21789, 1.046, 1.50996e-07, -0.0320413, 0.0812987, -0.0390901)
target_position = Vector3(0, 1, 0)
collision_mask = 8
script = ExtResource("4_2ms4b")

[editable path="RigPivot/Rig"]
[editable path="RigPivot/Rig/CharacterRig"]
